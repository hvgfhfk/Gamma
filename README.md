# Gamma Controller

Windows 디스플레이의 감마, 밝기, 대비를 실시간으로 조정하는 유틸리티입니다.

## 버전 정보

```
VERSION=2.1.0
SHA256=업데이트파일의_SHA256_해시값을_여기에_입력하세요
```

**참고**: 자동 업데이트 기능을 사용하려면 위 형식으로 버전 정보를 유지해야 합니다. 새로운 버전을 릴리즈할 때마다 이 값을 업데이트하세요.

## 주요 기능

- 🎨 **감마/밝기/대비 조정**: NVIDIA 제어판과 동일한 방식으로 디스플레이 설정 조정
- 🖥️ **다중 모니터 지원**: 2개 이상의 모니터가 연결된 경우 특정 모니터 선택 또는 모든 모니터에 적용 가능
- ⌨️ **단축키 지원**: 커스텀 단축키로 빠르게 설정 전환
- 🔍 **프로세스 자동 감지**: 특정 프로그램 실행 시 자동으로 설정 적용
- 🚀 **자동 실행**: Windows 시작 시 자동 실행 옵션
- 💻 **다중 GPU 지원**: NVIDIA, AMD, Intel 그래픽 카드 모두 지원
- ⚡ **향상된 성능**: 오류 발생 시에도 UI 응답성 유지, 최적화된 재시도 로직
- 🔧 **시스템 환경 진단**: 시스템 환경, GPU, HDR 상태 및 호환성 자동 확인 및 문제 해결
- 🔄 **자동 업데이트**: GitHub 기반 자동 업데이트 기능

## 자동 업데이트

프로그램은 시작 시 자동으로 최신 버전을 확인합니다. 업데이트가 필요한 경우 사용자에게 알림을 표시하고 자동으로 업데이트를 진행합니다.

### 버전 정보 포맷

프로그램은 README.md 파일에서 다음 형식으로 버전 정보를 읽습니다:

```
VERSION=1.2.3
SHA256=업데이트파일의_SHA256_해시값
```

## 시스템 요구사항

- **운영체제**: Windows 7 SP1 이상 (Windows 10/11 권장)
- **.NET Framework**: 4.7.2 이상
- **권한**: 일반 사용자 권한 (일부 시스템에서는 관리자 권한 필요할 수 있음)

## 설치 방법

1. `Gamma.exe` 파일을 원하는 위치에 복사
2. 더블클릭하여 실행
3. 설치 프로그램 불필요 - 포터블 애플리케이션

## 사용 방법

### 기본 사용법

1. **감마 설정 탭**: 스크롤바로 감마, 밝기, 대비 조정
2. **단축키 탭**: 
   - 기본값 단축키: 기본 설정으로 복원
   - 변경값 단축키: 커스텀 설정 적용
3. **프로세스 탭**: 
   - 프로세스 추가 버튼으로 프로그램 추가
   - 특정 프로그램이 활성화되면 자동으로 설정 적용
4. **설정 탭**:
   - 설정 저장/불러오기/초기화
   - 모니터 선택 (다중 모니터 환경)
   - 컴퓨터 시작 시 자동 실행 설정
   - 시스템 환경 진단
   - 후원 기능

### 모니터 선택 (다중 모니터 환경)

1. 설정 탭에서 "모니터 선택" 버튼 클릭
2. 감마를 적용할 모니터 선택
   - 개별 모니터 선택: 체크박스로 원하는 모니터만 선택
   - 모든 모니터에 적용: "모든 모니터에 적용" 체크박스 선택 (또는 모든 모니터를 개별 선택)
3. 확인 버튼 클릭
4. 선택한 모니터 설정은 자동으로 저장되며, 이후 모든 감마 조정이 선택된 모니터에만 적용됩니다

**참고**: 모니터를 선택하지 않으면 기본적으로 모든 모니터에 감마가 적용됩니다.

### 단축키 설정

1. 단축키 탭에서 "기본값 단축키 설정" 또는 "변경값 단축키 설정" 버튼 클릭
2. 원하는 키 조합 입력 (예: Ctrl+Alt+G)
3. 설정 완료

### 프로세스 규칙 추가

1. 프로세스 탭에서 "프로세스 추가" 버튼 클릭
2. 실행 중인 프로세스 목록에서 선택
3. 감마, 밝기, 대비 값 설정
4. (선택) 프로세스별 단축키 설정

### 시스템 환경 진단

1. 설정 탭에서 "시스템 환경 진단" 버튼 클릭
2. 다음 정보를 확인할 수 있습니다:
   - **시스템 정보**: 운영 체제, .NET Framework 버전, 관리자 권한 여부
   - **GPU 정보**: 설치된 그래픽 카드 및 드라이버 버전
   - **HDR 상태**: HDR 모드 활성화 여부 및 주의사항
   - **Gamma Ramp 테스트**: 감마 설정 기능 동작 여부 확인
   - **경고 및 오류**: 발견된 문제점 및 해결 방법
3. 문제가 발견된 경우 "자동 해결" 버튼을 클릭하여 자동으로 문제를 해결할 수 있습니다
4. "다시 진단" 버튼으로 최신 상태를 확인할 수 있습니다

## 최근 개선사항

### 버전 1.1.0 (최신)

- ✅ **다중 모니터 지원**: 2개 이상의 모니터가 연결된 경우 특정 모니터 선택 기능 추가
- ✅ **모니터 선택 UI**: 직관적인 모니터 선택 다이얼로그 제공
- ✅ **설정 저장**: 선택한 모니터 설정이 자동으로 저장되어 재시작 후에도 유지
- ✅ **자동 업데이트 기능**: GitHub 기반 자동 업데이트 시스템 구현
  - 프로그램 시작 시 자동으로 최신 버전 확인
  - SHA256 해시 검증을 통한 파일 무결성 보장
  - 별도 Updater 프로세스를 통한 안전한 파일 교체

### 버전 1.0.0

- ✅ **UI 응답성 개선**: 오류 발생 시에도 프로그램이 멈추지 않도록 최적화
- ✅ **자동 조정 기능 강화**: 이전에 성공한 방법을 우선 시도하여 더 빠른 설정 적용
- ✅ **재시도 로직 최적화**: 불필요한 지연 제거, 빠른 오류 복구
- ✅ **다중 GPU 지원**: NVIDIA, AMD, Intel 그래픽 카드 자동 감지 및 최적화
- ✅ **시스템 환경 진단**: 시스템 상태 자동 확인 및 문제 해결 기능

## 문제 해결

### 감마 조정이 적용되지 않는 경우

1. **관리자 권한으로 실행**: 
   - `Gamma.exe` 우클릭 → "관리자 권한으로 실행"
   
2. **모니터 선택 확인**:
   - 설정 탭에서 "모니터 선택" 버튼을 클릭하여 올바른 모니터가 선택되어 있는지 확인
   - 다중 모니터 환경에서는 특정 모니터만 선택했을 경우 다른 모니터에는 적용되지 않습니다

3. **HDR 모드 확인**:
   - HDR 모드가 활성화된 경우 일부 기능이 제한될 수 있음
   - 시스템 환경 진단에서 HDR 상태를 확인할 수 있습니다
   - NVIDIA 그래픽 카드 사용 시 HDR 모드에서도 정상 동작

4. **시스템 환경 진단 사용**:
   - 설정 탭의 "시스템 환경 진단" 버튼을 클릭하여 문제를 진단하고 자동 해결을 시도하세요
   - Gamma Ramp 테스트가 실패한 경우 자동 해결 기능을 사용할 수 있습니다

5. **로그 파일 확인**:
   - `error_log.txt` 파일을 확인하여 오류 원인 파악
   - 프로그램은 자동으로 여러 방법을 시도하므로 대부분의 경우 자동 해결됨

### 프로그램이 시작되지 않는 경우

1. `.NET Framework 4.7.2` 설치 확인
2. Windows 7 사용자는 [.NET Framework 4.7.2 다운로드](https://dotnet.microsoft.com/download/dotnet-framework/net472)
3. `error_log.txt` 파일 확인
4. 시스템 환경 진단 실행하여 문제 확인

### 단축키가 작동하지 않는 경우

1. 다른 프로그램과 단축키 충돌 확인
2. 단축키 재등록 시도
3. 관리자 권한으로 실행
4. 시스템 환경 진단에서 관리자 권한 확인

### 다중 모니터 환경에서 문제가 발생하는 경우

1. 설정 탭에서 "모니터 선택" 버튼을 클릭하여 모니터 목록 확인
2. 모든 모니터가 올바르게 감지되는지 확인
3. 특정 모니터에만 적용하려면 해당 모니터만 선택
4. 모든 모니터에 적용하려면 "모든 모니터에 적용" 체크박스 선택 또는 모든 모니터를 개별 선택

## 파일 구조

```
Gamma.exe              # 실행 파일
Gamma.exe.config       # 설정 파일
Updater.exe            # 자동 업데이트 유틸리티
SETTING.JSON          # 사용자 설정 (자동 생성)
error_log.txt         # 오류 로그 (자동 생성)
```

## 기술 정보

- **개발 언어**: C# (WPF)
- **.NET Framework**: 4.7.2
- **API**: Windows GDI32 API
- **아키텍처**: MVVM 패턴
- **설정 저장**: JSON 형식

## 성능 최적화

- 오류 발생 시 UI 블로킹 최소화
- 자동 조정 기능으로 다양한 환경에서 안정적 동작
- 효율적인 재시도 로직으로 빠른 오류 복구
- 백그라운드 스레드 활용으로 메인 UI 응답성 유지

## 라이선스

Copyright © 2026

## 후원

프로그램이 도움이 되셨다면 후원해주세요! 설정 탭의 "커피한 잔 후원하기" 버튼을 통해 후원할 수 있습니다.

## 버전 히스토리

- **현재 버전**: 1.1.0.0
- **최종 업데이트**: 2026년 1월

**참고**: 최신 버전 정보는 README.md 상단의 "버전 정보" 섹션을 확인하세요.

## 문의 및 지원

문제가 발생하거나 제안사항이 있으시면 `error_log.txt` 파일과 함께 문의해주세요. 시스템 환경 진단 기능을 사용하여 문제를 진단하고 해결할 수 있습니다.

